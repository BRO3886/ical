# Journal Entry 002 - 2026-02-11 - Documentation Website

## Goal
Create a documentation website for `cal` using Hugo, deploy to Cloudflare Pages, and set up CI/CD with GitHub Actions. Modeled after the `rem` project's docs site but with an Apple Calendar-inspired red color scheme.

## What Changed
- **Hugo site** (`website/`): Full static site with custom `cal-docs` theme
  - Config: `website/config.yaml` with markdown output format for raw `.md` access
  - Theme: `website/themes/cal-docs/` with layouts, CSS, JS, favicon
  - Content: 4 documentation pages + home + docs index
- **Theme design**: Apple-inspired with red calendar accent (`#E03E3E` light, `#ff6b6b` dark)
  - Light/dark mode toggle with localStorage persistence
  - Frosted glass navbar with backdrop blur
  - Scroll-reveal animations on feature cards
  - Terminal typing animation demo on home page
  - Responsive layout (3-col → 2-col → 1-col grid, collapsible sidebar)
- **Documentation content**:
  - `getting-started.md`: Installation, first run, basic usage, output formats, shell completions
  - `commands.md`: Complete reference for all 13 commands with flags and examples
  - `date-parsing.md`: Natural language date input reference with all 20+ patterns
  - `architecture.md`: EventKit bindings, project structure, design decisions, limitations
- **Copy buttons**: Auto-injected via JS on all `<pre>` code blocks in docs pages, plus manual copy buttons on install section
- **MD raw output**: Hugo generates both HTML and raw markdown for each page (accessible at `/docs/page/index.md`), with sitemap entries for markdown URLs
- **Favicon**: SVG calendar icon — red rounded square with calendar strip and "11" date
- **CI/CD**:
  - `.github/workflows/deploy.yml`: Triggers on `website/**` or workflow changes, builds with Hugo 0.139.0, deploys via wrangler
  - GitHub secrets: `CLOUDFLARE_API_TOKEN` and `CLOUDFLARE_ACCOUNT_ID` pushed to repo
  - Cloudflare Pages project `cal` created, initial deploy successful
- **README.md**: Added documentation link section
- **CLAUDE.md**: Added Documentation Website section with deploy details
- **MEMORY.md**: Added website documentation section

## Key Insights
- Hugo 0.92 (installed locally) built the site fine, but the GH Action uses 0.139.0 for consistency with the rem project
- Cloudflare Pages project URL: `cal-3gu.pages.dev` (to be mapped to `cal.sidv.dev`)
- The `mediaTypes` + `outputFormats` + `outputs` config in Hugo enables dual HTML+MD generation per page — key for agent-accessible raw markdown
- Code block copy buttons are injected dynamically in JS by appending a `<button>` to each `<pre>` element, using `position: absolute` with the pre as relative container

## Decisions Made
- **Red accent color**: Used Apple Calendar's signature red (`#E03E3E`) rather than the blue used in rem's docs
- **Content structure**: 4 pages (getting-started, commands, date-parsing, architecture) — no API or performance pages since cal doesn't expose a public Go API like rem does
- **No wrangler.toml**: Deploy is done entirely via CLI flags in the GH Action, matching rem's approach
- **Hugo version for GH Action**: 0.139.0 (same as rem) rather than the locally installed 0.92

## What's Next
- Map `cal.sidv.dev` to Cloudflare Pages
- Dynamic calendar name completion
- Cross-compile Makefile targets

---

## Session 2 - Interactive Mode Documentation

## Goal
Add interactive mode documentation to the README and the documentation website — it was missing as a dedicated section.

## What Changed
- **README.md**: Added "Interactive Mode" section between Event Selection and Shell Completions, covering guided forms (`-i`) and event picker (zero-arg show/update/delete)
- **website/content/docs/getting-started.md**: Added "Interactive Mode" section with subsections for Guided Forms and Event Picker, including combining picker + form (`cal update -i`)
- **`.gitignore`**: Added `website/public/`, `.hugo_build.lock`, `website/resources/`, `website/.wrangler/` to prevent Hugo build artifacts from being committed (was accidentally committed in initial website commit, cleaned up with `git rm --cached`)

## Key Insights
- Hugo build output (`website/public/`) was initially committed — caught it and added to `.gitignore` with a cleanup commit
- The GH Action rebuilds from source anyway, so `public/` in the repo was pure bloat (4800+ deleted lines)

## Decisions Made
- Split interactive mode docs into two sub-concepts: **guided forms** (`-i` flag on add/update) and **event picker** (zero-arg on show/update/delete) — these are distinct UX patterns even though both use charmbracelet/huh

---
