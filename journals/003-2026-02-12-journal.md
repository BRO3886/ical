# Journal Entry 003 - 2026-02-12 - Agent Skill for cal CLI

## Goal
Create an Agent Skill following the agentskills.io open format so AI agents (Claude Code, Cursor, Gemini CLI, etc.) can discover and use the cal CLI for macOS Calendar operations. Modeled after the existing `rem` skill at `../rem/skills/rem-cli/`.

## What Changed
- **`skills/cal-cli/SKILL.md`** (237 lines): Main skill file with YAML frontmatter + full overview
  - Frontmatter: `name: cal-cli`, keyword-rich description, `metadata.author: sidv`, `compatibility` for macOS
  - Sections: Installation, Quick Start (7 examples), Command Reference (4 grouped tables covering all 13 commands), Key Concepts, Common Workflows, Public Go API pointer, Limitations
  - Key Concepts covers: Row Numbers (with cache workflow), Natural Language Dates, Interactive Mode (both `-i` forms and zero-arg picker), Output Formats, Recurrence (5 examples with interval/days/count/until), Alerts
- **`skills/cal-cli/references/commands.md`** (315 lines): Complete flag reference for all 13 commands
  - Each command: description, 3-5 usage examples, full flag table (flag, short, description, default), aliases
  - Commands: calendars, list, today, upcoming, show, add, update, delete, search, export, import, version, completion
  - Global flags section at bottom (`--output`, `--no-color`, `NO_COLOR`)
- **`skills/cal-cli/references/dates.md`** (106 lines): Natural language date parsing reference
  - 9 pattern categories: Keywords, Relative Time, Past References, Weekday Patterns, Keyword+Time, Month+Day, Time Only, Standard Date Formats, Alert Durations
  - All patterns cross-checked against `internal/parser/date.go`

## Key Insights
- cal defaults date keywords to **midnight (00:00)** while rem defaults to **9:00 AM** — this is the most important behavioral difference and is documented in dates.md
- rem uses short IDs (8-char UUID prefix) for event identification; cal uses row numbers (`#1`, `#2`) cached to `~/.cal-last-list` — the skill documents the row number workflow explicitly since it's non-obvious
- cal has features rem doesn't: recurrence rules, alerts, ICS export, `this week` / `X ago` / month+day date patterns — all documented
- rem has features cal doesn't: short IDs, priority levels, flagging, separate `interactive` command, `overdue` command, stats — these are simply absent from cal's skill
- No `references/go-api.md` needed unlike rem — cal doesn't expose a public Go API package, users should use `go-eventkit/calendar` directly (brief pointer in SKILL.md suffices)
- The `--all-day` flag on `update` is a **string** ("true"/"false") not a bool, to detect whether it was explicitly set — documented correctly in commands.md

## Decisions Made
- **No go-api.md reference file**: Unlike rem which has `references/go-api.md`, cal points users to `go-eventkit/calendar` with a small code snippet in SKILL.md. The cal CLI doesn't expose its own Go API package.
- **Alert durations in dates.md**: Included `--alert` duration format (15m, 1h, 2d) in the dates reference since it's a related parsing concept, even though it's technically not a "date" pattern.
- **Command grouping**: Used 4 groups (Event CRUD, Event Views, Search & Export, Other) vs rem's 5 groups — consolidated since cal has fewer command categories.

---
